{
  "permissions": {
    "allow": [
      "Bash(pip install:*)",
      "Bash(findstr:*)",
      "Bash(python:*)",
      "Bash(Rscript -e:*)",
      "Bash(where:*)",
      "Bash(where Rscript)",
      "Bash(dir \"C:\\\\Program Files\\\\R\")",
      "Bash(dir \"C:\\\\Program Files \\(x86\\)\\\\R\")",
      "Bash(\"C:\\\\Program Files\\\\R\\\\R-4.5.1\\\\bin\\\\Rscript.exe\" -e:*)",
      "Bash(py:*)",
      "Bash(git add:*)",
      "Bash(git diff-index:*)",
      "Bash(echo:*)",
      "Bash(del \"\\\\?\\\\c:\\\\Users\\\\david\\\\Desktop\\\\Spring-Semester-\\\\nul\")",
      "Bash(powershell -Command \"Remove-Item -LiteralPath ''\\\\?\\\\c:\\\\Users\\\\david\\\\Desktop\\\\Spring-Semester-\\\\nul'' -Force\")",
      "Bash(powershell -Command \"cmd /c ''del \"\"\\\\?\\\\c:\\\\Users\\\\david\\\\Desktop\\\\Spring-Semester-\\\\nul\"\"''\")",
      "Bash(cmd.exe /c \"del /f nul\")",
      "Bash(dir:*)",
      "Bash(dir \"C:\\\\Program Files \\(x86\\)\\\\R\" /b)",
      "Bash(\"C:\\\\Program Files\\\\R\\\\R-4.5.1\\\\bin\\\\Rscript.exe\" -e \"rmarkdown::render\\(''1_5.Rmd'', output_format = ''html_document''\\)\")",
      "Bash(\"C:\\\\Program Files\\\\R\\\\R-4.5.1\\\\bin\\\\Rscript.exe\":*)",
      "Bash(\"C:\\\\Program Files\\\\R\\\\R-4.5.1\\\\bin\\\\Rscript.exe\" \"c:\\\\Users\\\\david\\\\Desktop\\\\Spring-Semester-\\\\Missing Data\\\\test_code.R\")",
      "Bash(del \"c:\\\\Users\\\\david\\\\Desktop\\\\Spring-Semester-\\\\Missing Data\\\\test_code.R\")",
      "Bash(cmd /c \"del \"\"c:\\\\Users\\\\david\\\\Desktop\\\\Spring-Semester-\\\\Missing Data\\\\test_code.R\"\"\")",
      "Bash(cmd /c \"dir /s /b \"\"C:\\\\Program Files\\\\R\\\\*Rscript.exe\"\" 2>nul\")",
      "Bash(cmd /c:*)",
      "Bash(powershell:*)",
      "Bash(\"C:/Program Files/R/R-4.4.1/bin/Rscript.exe\" -e \"\nsuppressPackageStartupMessages\\({\n  library\\(tidyverse\\)\n}\\)\n\n# Load and merge data\nMainDF <- read.csv\\(''Raw.csv''\\)\nStoreDF <- read.csv\\(''StoreTable.csv''\\)\nConcessDF <- read.csv\\(''ConcessTable.csv''\\)\nCustomerDF <- read.csv\\(''CustomerTable.csv''\\)\n\nFFdf <- MainDF\nFFdf <- merge\\(FFdf, StoreDF, by = ''Cust_ID'', all.x = TRUE\\)\nFFdf <- merge\\(FFdf, ConcessDF, by = ''Cust_ID'', all.x = TRUE\\)\nFFdf <- merge\\(FFdf, CustomerDF, by = ''Cust_ID'', all.x = TRUE\\)\n\ncat\\(''=== DATASET DIMENSIONS ===\\\\n''\\)\ncat\\(''Rows:'', nrow\\(FFdf\\), ''Cols:'', ncol\\(FFdf\\), ''\\\\n\\\\n''\\)\n\n# Clean names\nnames\\(FFdf\\) <- gsub\\(''\\\\.'', ''_'', names\\(FFdf\\)\\)\nnames\\(FFdf\\) <- gsub\\('' '', ''_'', names\\(FFdf\\)\\)\n\n# Convert chars to factors\nchr_vars <- names\\(FFdf\\)[sapply\\(FFdf, is.character\\)]\nfor\\(var in chr_vars\\) { FFdf[[var]] <- as.factor\\(FFdf[[var]]\\) }\n\n# Convert 999 to NA\nFFdf[[''DistA'']][FFdf[[''DistA'']] == 999] <- NA\n\ncat\\(''=== STEP 6: KEY CATEGORICAL DISTRIBUTIONS ===\\\\n''\\)\ncat\\(''\\\\n--- Sex ---\\\\n''\\); print\\(table\\(FFdf[[''Sex'']], useNA=''ifany''\\)\\)\ncat\\(''\\\\n--- Marital ---\\\\n''\\); print\\(table\\(FFdf[[''Marital'']], useNA=''ifany''\\)\\)\ncat\\(''\\\\n--- Account_Type ---\\\\n''\\); print\\(table\\(FFdf[[''Account_Type'']], useNA=''ifany''\\)\\)\ncat\\(''\\\\n--- Educational_Level ---\\\\n''\\); print\\(table\\(FFdf[[''Educational_Level'']], useNA=''ifany''\\)\\)\n\ncat\\(''\\\\n=== STATE DISTRIBUTION \\(Top 10\\) ===\\\\n''\\)\nprint\\(head\\(sort\\(table\\(FFdf[[''State_Name'']]\\), decreasing=TRUE\\), 10\\)\\)\ncat\\(''Total unique states:'', length\\(unique\\(FFdf[[''State_Name'']]\\)\\), ''\\\\n''\\)\n\")",
      "Bash(git pull:*)",
      "Bash(git checkout:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(\"C:/Program Files/R/R-4.5.1/bin/Rscript.exe\" -e \"cat\\(''R is working\\\\n''\\)\")",
      "Bash(\"C:/Program Files/R/R-4.5.1/bin/Rscript.exe\" -e \"\nsetwd\\(''C:/Users/david/Desktop/Spring-Semester-/Missing Data''\\)\n# Load and wrangle\nMainDF <- read.csv\\(''Raw.csv''\\)\nStoreDF <- read.csv\\(''StoreTable.csv''\\)\nConcessDF <- read.csv\\(''ConcessTable.csv''\\)\nCustomerDF <- read.csv\\(''CustomerTable.csv''\\)\n\nFFdf <- MainDF\nFFdf <- merge\\(FFdf, StoreDF, by=''Cust_ID'', all.x=TRUE\\)\nFFdf <- merge\\(FFdf, ConcessDF, by=''Cust_ID'', all.x=TRUE\\)\nFFdf <- merge\\(FFdf, CustomerDF, by=''Cust_ID'', all.x=TRUE\\)\n\n# Step 1: ID and reorder\nFFdf$ID <- 1:nrow\\(FFdf\\)\ny_var <- ''Y01''\nother_vars <- sort\\(setdiff\\(names\\(FFdf\\), y_var\\)\\)\nFFdf <- FFdf[, c\\(y_var, other_vars\\)]\n\n# Step 2: Fix names\nnames\\(FFdf\\) <- gsub\\(''\\\\\\\\.'', ''_'', names\\(FFdf\\)\\)\nnames\\(FFdf\\) <- gsub\\('' '', ''_'', names\\(FFdf\\)\\)\nnames\\(FFdf\\) <- gsub\\(''\\(^|_\\)\\([a-z]\\)'', ''\\\\\\\\1\\\\\\\\U\\\\\\\\2'', names\\(FFdf\\), perl=TRUE\\)\n\n# Step 3: Convert chr to factor\nchr_vars <- names\\(FFdf\\)[sapply\\(FFdf, is.character\\)]\nfor\\(var in chr_vars\\) { FFdf[[var]] <- as.factor\\(FFdf[[var]]\\) }\n\n# Step 4: DistA 999 -> NA\nFFdf$DistA[FFdf$DistA == 999] <- NA\n\n# Step 5: Date handling\nlibrary\\(lubridate, quietly=TRUE\\)\nFFdf$Last_Contact <- ymd_hms\\(as.character\\(FFdf$Last_Contact\\)\\)\nFFdf$Contact_Year <- year\\(FFdf$Last_Contact\\)\nFFdf$Contact_Month <- month\\(FFdf$Last_Contact\\)\nFFdf$Contact_Day <- day\\(FFdf$Last_Contact\\)\nFFdf$Contact_Weekday <- wday\\(FFdf$Last_Contact, label=TRUE\\)\nFFdf$Contact_Hour <- hour\\(FFdf$Last_Contact\\)\n\n# Step 6: Region grouping and lumping\nlibrary\\(tidyverse, quietly=TRUE\\)\nnortheast <- c\\(''Connecticut'',''Maine'',''Massachusetts'',''New Hampshire'',''Rhode Island'',''Vermont'',''New Jersey'',''New York'',''Pennsylvania''\\)\nmidwest <- c\\(''Illinois'',''Indiana'',''Michigan'',''Ohio'',''Wisconsin'',''Iowa'',''Kansas'',''Minnesota'',''Missouri'',''Nebraska'',''North Dakota'',''South Dakota''\\)\nsouth <- c\\(''Delaware'',''Florida'',''Georgia'',''North Carolina'',''South Carolina'',''West Virginia'',''Alabama'',''Kentucky'',''Mississippi'',''Tennessee'',''Arkansas'',''Louisiana'',''Oklahoma'',''Texas''\\)\nwest <- c\\(''Arizona'',''Colorado'',''Idaho'',''Montana'',''Nevada'',''New Mexico'',''Utah'',''Wyoming'',''Alaska'',''California'',''Hawaii'',''Oregon'',''Washington''\\)\ndcarea <- c\\(''Maryland'',''Virginia'',''District of Columbia''\\)\nFFdf$Region <- case_when\\(FFdf$State_Name %in% northeast ~ ''Northeast'', FFdf$State_Name %in% midwest ~ ''Midwest'', FFdf$State_Name %in% south ~ ''South'', FFdf$State_Name %in% west ~ ''West'', FFdf$State_Name %in% dcarea ~ ''DCArea'', TRUE ~ ''Other''\\)\nFFdf$Region <- as.factor\\(FFdf$Region\\)\nFFdf$Marital_Original <- FFdf$Marital\n\n# Step 7: Zero variance removal\nfind_zv <- function\\(df\\) { zv <- c\\(\\); for\\(col in names\\(df\\)\\) { uv <- length\\(unique\\(na.omit\\(df[[col]]\\)\\)\\); if\\(uv <= 1\\) zv <- c\\(zv, col\\) }; zv }\nzero_var_cols <- find_zv\\(FFdf\\)\ncat\\(''Zero-var cols:'', zero_var_cols, ''\\\\n''\\)\nFFdf <- FFdf[, !names\\(FFdf\\) %in% zero_var_cols]\n\n# Step 9: Remove State_Loc\nif\\(''State_Loc'' %in% names\\(FFdf\\)\\) FFdf$State_Loc <- NULL\n\n# Step 10: Flags\nFFdf$Flag_Tenure_High <- ifelse\\(FFdf$Tenure > 100, 1, 0\\)\nFFdf$Flag_Survey_Invalid <- ifelse\\(FFdf$Survey_Comp > 1, 1, 0\\)\n\ncat\\(''\\\\nDimensions:'', dim\\(FFdf\\), ''\\\\n''\\)\ncat\\(''\\\\nColumn names:\\\\n''\\)\ncat\\(names\\(FFdf\\), sep='', ''\\)\ncat\\(''\\\\n\\\\nMissing values by column:\\\\n''\\)\nna_counts <- colSums\\(is.na\\(FFdf\\)\\)\nna_cols <- na_counts[na_counts > 0]\nna_sorted <- sort\\(na_cols, decreasing=TRUE\\)\nfor\\(i in seq_along\\(na_sorted\\)\\) {\n  pct <- round\\(na_sorted[i]/nrow\\(FFdf\\)*100, 1\\)\n  cat\\(names\\(na_sorted\\)[i], '':'', na_sorted[i], ''\\('', pct, ''%\\)\\\\n''\\)\n}\ncat\\(''\\\\nTotal missing:'', sum\\(is.na\\(FFdf\\)\\), ''\\\\n''\\)\ncat\\(''Total cells:'', nrow\\(FFdf\\)*ncol\\(FFdf\\), ''\\\\n''\\)\n\n# Data types\ncat\\(''\\\\nVariable classes:\\\\n''\\)\nclasses <- sapply\\(FFdf, class\\)\nfor\\(i in seq_along\\(classes\\)\\) cat\\(names\\(classes\\)[i], '':'', classes[i], ''\\\\n''\\)\n\")",
      "Bash(\"C:/Program Files/R/R-4.5.1/bin/Rscript.exe\" \"C:/Users/david/Desktop/Spring-Semester-/Missing Data/temp_analysis.R\")",
      "Bash(\"C:/Program Files/R/R-4.5.1/bin/Rscript.exe\" \"C:/Users/david/Desktop/Spring-Semester-/Missing Data/temp_verify.R\")",
      "Bash(\"C:/Program Files/R/R-4.5.1/bin/Rscript.exe\" \"C:/Users/david/Desktop/Spring-Semester-/Missing Data/temp_verify2.R\")",
      "Bash(\"C:/Program Files/R/R-4.5.1/bin/Rscript.exe\" \"c:/Users/david/Desktop/Spring-Semester-/Missing Data/temp_verify3.R\")"
    ]
  }
}
